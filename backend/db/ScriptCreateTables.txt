CREATE DOMAIN DOM_CODIGO AS INTEGER;
CREATE DOMAIN DOM_TEXTO_005 AS VARCHAR(5);
CREATE DOMAIN DOM_TEXTO_014 AS VARCHAR(14);
CREATE DOMAIN DOM_TEXTO_015 AS VARCHAR(15);
CREATE DOMAIN DOM_TEXTO_060 AS VARCHAR(60);
CREATE DOMAIN DOM_TEXTO_100 AS VARCHAR(100);
CREATE DOMAIN DOM_TEXTO_999 AS VARCHAR(1000);
CREATE DOMAIN DOM_DATA_HORA AS TIMESTAMP;

CREATE TABLE CLIENTES(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    CNPJ DOM_TEXTO_014 NOT NULL,
    NOME DOM_TEXTO_060 NOT NULL,
    USUARIO DOM_TEXTO_100,
    SENHA DOM_TEXTO_100,
    IPACESSO DOM_TEXTO_015,
    ATIVO DOM_CODIGO
);

create generator gen_clientes_codigo;

CREATE TRIGGER TR_CLIENTES FOR CLIENTES
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_clientes_codigo, 1);
END;

CREATE TABLE USUARIOS(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    NOME DOM_TEXTO_060 NOT NULL,
    LOGIN DOM_TEXTO_100,
    SENHA DOM_TEXTO_100,
    NIVEL INTEGER,
    ATIVO DOM_CODIGO
);

create generator gen_usuarios_codigo;

CREATE TRIGGER TR_USUARIOS FOR USUARIOS
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_usuarios_codigo, 1);
END;

CREATE TABLE CENTRAL_INTERCOMUNICACAO(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    DATA_ATUALIZACAO DOM_DATA_HORA, 
    VERSAOFTP DOM_TEXTO_005, 
    VERSAOLOCAL DOM_TEXTO_005, 
    SERVICEGUARDIAN DOM_TEXTO_015, 
    CENTRAL DOM_TEXTO_015, 
    CENTRALSERVICES DOM_TEXTO_015, 
    MINERADORA DOM_TEXTO_015, 
    CENTRALMINERADORA DOM_TEXTO_015, 
    CENTRALAUTOMATIZADO DOM_TEXTO_015, 
    CENTRALHTMLPARAPDF DOM_TEXTO_015,
    CENTRALMANUTENCAO DOM_TEXTO_015, 
    SOLLISTAINTAGUARDCIENCIA DOM_TEXTO_015,
    SOLLISTAINTIMACAOAUTOCONFIRMADA DOM_TEXTO_015, 
    SOLLISTAINTIMACOESRECEBIDAS DOM_TEXTO_015,
    SOLINTIMACAOAGUARDCIENCIAATO DOM_TEXTO_015, 
    SOLINTIMACAOAGUARDTEOR DOM_TEXTO_015,
    CONFLEITURAINTIMACAOAUTOCONF DOM_TEXTO_015, 
    SOLLISTACITACOESAGUARDCIENCIA DOM_TEXTO_015,
    SOLLISTACITACOESAUTOCONFIRMADA DOM_TEXTO_015, 
    SOLLISTACITACOESRECEBIDAS DOM_TEXTO_015,
    SOLCITACAOAGUARDCIENCIAATO DOM_TEXTO_015, 
    SOLCITACAOAGUARDTEOR DOM_TEXTO_015,
    CONFLEITURACITACAOAUTOCONF DOM_TEXTO_015, 
    CONSULTARAVISOSPENDENTESPJE DOM_TEXTO_015,
    SOLINTIMACAOAGUARDCIENCIAATOPJE DOM_TEXTO_015, 
    SOLINTIMACAOAGUARDTEORPJE DOM_TEXTO_015,
    SOLCITACAOAGUARDCIENCIAATOPJE DOM_TEXTO_015, 
    SOLCITACAOAGUARDTEORPJE DOM_TEXTO_015,
    SOLOUTROAGUARDCIENCIAATOPJE DOM_TEXTO_015, 
    SOLOUTROAGUARDTEORPJE DOM_TEXTO_015, 
    CONSULTARPROCESSOPJE DOM_TEXTO_015,
    HORAINTERCOMUNICACAO1 DOM_TEXTO_005, 
    HORAINTERCOMUNICACAO2 DOM_TEXTO_005, 
    HORAINTERCOMUNICACAO3 DOM_TEXTO_005, 
    HORAINTERCOMUNICACAO4 DOM_TEXTO_005,
    QTDSOLICITACOESABERTO INTEGER, 
    CODCLIENTE DOM_CODIGO
);

ALTER TABLE CENTRAL_INTERCOMUNICACAO ADD CONSTRAINT FK_CENTRAL_INTER_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTES (CODIGO);

create generator gen_central_inter_codigo;

CREATE TRIGGER TR_CENTRAL_INTER FOR CENTRAL_INTERCOMUNICACAO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_central_inter_codigo, 1);
END;

CREATE TABLE CENTRAL_MINERADORA(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    DATA_ATUALIZACAO DOM_DATA_HORA,
    INTIMACOESNAOLOC DOM_TEXTO_015,
    CITACOESNAOLOC DOM_TEXTO_015,
    PUBLICACOESNAOLOC DOM_TEXTO_015,
    PROCESSOSMONITORADOS DOM_TEXTO_015,
    PROCESSOSREQUISITORIOS DOM_TEXTO_015,
    QTDLOTESEMABERTO INTEGER,
    CODCLIENTE DOM_CODIGO
);

ALTER TABLE CENTRAL_MINERADORA ADD CONSTRAINT FK_CENTRAL_MINER_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTES (CODIGO);

create generator gen_central_miner_codigo;

CREATE TRIGGER TR_CENTRAL_MINER FOR CENTRAL_MINERADORA
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_central_miner_codigo, 1);
END;

CREATE TABLE CENTRAL_INTERLOG(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    DATA_ATUALIZACAO DOM_DATA_HORA,
    OPERACAO DOM_TEXTO_999,
    CODCLIENTE DOM_CODIGO
);

ALTER TABLE CENTRAL_INTERLOG ADD CONSTRAINT FK_CENTRAL_INTERLOG_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTES (CODIGO);

create generator gen_central_interlog_codigo;

CREATE TRIGGER TR_CENTRAL_INTERLOG FOR CENTRAL_INTERLOG
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_central_interlog_codigo, 1);
END;

CREATE TABLE CENTRAL_MINERLOG(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    DATA_ATUALIZACAO DOM_DATA_HORA,
    OPERACAO DOM_TEXTO_999,
    CODCLIENTE DOM_CODIGO
);

ALTER TABLE CENTRAL_MINERLOG ADD CONSTRAINT FK_CENTRAL_MINERLOG_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTES (CODIGO);

create generator gen_central_minerlog_codigo;

CREATE TRIGGER TR_CENTRAL_MINERLOG FOR CENTRAL_MINERLOG
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_central_minerlog_codigo, 1);
END;

CREATE TABLE INTEG_PROCESSO(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    NOME_PROCESSO DOM_TEXTO_100
);

create generator gen_integ_processo_codigo;

CREATE TRIGGER TR_INTEG_PROCESSO FOR INTEG_PROCESSO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_integ_processo_codigo, 1);
END;

CREATE TABLE INTEG_PARCEIROS(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    NOME_PARCEIRO DOM_TEXTO_100,
    CODCLIENTE DOM_CODIGO
);

create generator gen_integ_parceiros_codigo;

ALTER TABLE INTEG_PARCEIROS ADD CONSTRAINT FK_INTEG_PARCEIROS_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTES (CODIGO);

CREATE TRIGGER TR_INTEG_PARCEIROS FOR INTEG_PARCEIROS
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_integ_parceiros_codigo, 1);
END;

CREATE TABLE INTEG_MOVIMENTACAO(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    DATA_HORA DOM_DATA_HORA,
    STATUS INTEGER,
    COD_INTEG_PARCEIRO DOM_CODIGO,
    COD_INTEG_PROCESSO DOM_CODIGO
);

create generator gen_integ_movimentacao_codigo;

ALTER TABLE INTEG_MOVIMENTACAO ADD CONSTRAINT FK_INTEG_MOVIMENTACOES_PARCEIRO FOREIGN KEY (COD_INTEG_PARCEIRO) REFERENCES INTEG_PARCEIROS (CODIGO);
ALTER TABLE INTEG_MOVIMENTACAO ADD CONSTRAINT FK_INTEG_MOVIMENTACOES_PROCESSO FOREIGN KEY (COD_INTEG_PROCESSO) REFERENCES INTEG_PROCESSO (CODIGO);

CREATE TRIGGER TR_INTEG_MOVIMENTACAO FOR INTEG_MOVIMENTACAO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_integ_movimentacao_codigo, 1);
END;

CREATE TABLE INTEG_MOV_DETALHE(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    OBS DOM_TEXTO_999,
    COD_INTEG_MOVIMENTACAO DOM_CODIGO
);

create generator gen_integ_mov_detalhe_codigo;

ALTER TABLE INTEG_MOV_DETALHE ADD CONSTRAINT FK_INTEG_MOV_DETALHE_MOV FOREIGN KEY (COD_INTEG_MOVIMENTACAO) REFERENCES INTEG_MOVIMENTACAO (CODIGO);

CREATE TRIGGER TR_INTEG_MOV_DETALHE FOR INTEG_MOV_DETALHE
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_integ_mov_detalhe_codigo, 1);
END;

ALTER TABLE CENTRAL_INTERCOMUNICACAO ADD INTERHORAEXECUTOU DOM_TEXTO_060;
ALTER TABLE CENTRAL_MINERADORA ADD MINERARPM DOM_CODIGO;
ALTER TABLE CENTRAL_MINERADORA ADD MINERARSAE DOM_CODIGO;

CREATE TABLE CENTRAL_GUARDIANLOG(
    CODIGO DOM_CODIGO NOT NULL PRIMARY KEY,
    DATA_ATUALIZACAO DOM_DATA_HORA,
    OPERACAO DOM_TEXTO_999,
    CODCLIENTE DOM_CODIGO
);

ALTER TABLE CENTRAL_GUARDIANLOG ADD CONSTRAINT FK_CENTRAL_GUARDIANLOG_CLIENTE FOREIGN KEY (CODCLIENTE) REFERENCES CLIENTES (CODIGO);

create generator gen_central_guardianlog_codigo;

CREATE TRIGGER TR_CENTRAL_GUARDIANLOG FOR CENTRAL_GUARDIANLOG
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.CODIGO = gen_id(gen_central_guardianlog_codigo, 1);
END;

ALTER TABLE CLIENTES ADD IPACESSO2 DOM_TEXTO_015